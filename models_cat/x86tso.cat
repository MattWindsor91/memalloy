"X86 TSO"

(* Uniproc check *)
  (* let com = rf | fr | co *)
include "basic.cat"
acyclic po-loc | com as Uniproc

(* Atomic *)
empty atom & (fre;coe) as Atomic
  
(* GHB *)
#ppo
let ppo = WW(po) | RM(po)

#mfence
let mfence = po; [F]; po

#implied barriers
let poWR = WR(po)
let i1 = PA(poWR)
let i2 = AP(poWR)
let implied = i1 | i2

let ghb = mfence | implied | ppo | rfe | fr | co
show mfence
show implied
acyclic ghb as GHB
